﻿﻿﻿﻿﻿﻿﻿#REVIEW-RESTAPI 1.0#综合查询接口##根据条件查询评审###场景说明根据不同条件查询多个评审的综合信息###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/list?utoken={utoken}&reviewType={reviewType}&reviewStatus={reviewStatus}&projectId={projectId}&reviewName={reviewName}&reviewerName={reviewerName}&approverName={approverName}&engineerName={engineerName}&recorderName={recorderName}&moderatorName={moderatorName}&reviewItemId={reviewItemId}&startDate={startDate}&endDate={endDate}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||utoken	|	string     |是|	用户utoken |||reviewType	|	string     |否|	评审类型，可取值：Review-文档评审，CodeReview-代码评审，默认查询全部评审|Review|reviewStatus	|string	  | 否|	评审状态，可取值：1-评审中；2-已完成；3-存档；4-删除；8-已关闭；可传多个，逗号隔开|1,2|projectId 	|	string	|否|	项目Id，多个用逗号隔开|123,111|reviewName 		|string	|否|	评审名称，模糊查询|关于需求文档的评审|approverName 	|string	|否|审核人用户登录名，多个用逗号隔开|user,admins|reviewerName 	|string	|否|	评审人用户登录名，多个用逗号隔开|user,admins|engineerName |	string	|否|	被评人用户登录名，多个用逗号隔开|user,admins|recorderName 	|string	|否|	记录员用户登录名，多个用逗号隔开|user,admins|moderatorName| 	string	|否|	发起人用户登录名，多个用逗号隔开|user,admins|startDate |		string	|否|	时间范围的起始值，查询结束时间大于此时间的评审|2019/03/04|endDate 	|	string	|否|	时间范围的结束值，查询开始时间小于此时间的评审|2019/03/12###返回值###    {        "ErrorCode":0-成功；其他值-失败        "ErrorMsg":"描述信息"        "Data":        [            {                "ReviewUid":"评审Id",                "ReviewItemId":"评审ItemId",                "ReviewName":"评审名称",                "ReviewType":"评审类型(doc-文档评审/code-代码评审)",                "VersionNum":"评审版本号",                "ReviewRole":"当前登录用户的评审角色",                "Moderator":"发起人用户显示名",                "ModeratorVal":"发起人用户登录名",                "ProjectId":"项目Id",                "ProjectIName":"项目名称",                "ProjectIsDel":"项目是否已删除",                "ReviewUserStatus":"当前用户在该评审中的状态",                "ReviewUserStatusId":"当前用户在该评审中的状态Id（1-评审中；2-已完成；）"                "ReviewUserStatusStr":"当前用户在该评审中的状态值（InProgress-评审中；Completed-已完成；）",                "ReviewCommentsCount":"评审评论数量",				"ReviewDefectCount"："评审缺陷数量"                "ReviewAction":"评审可进行的操作",                "ReviewTimeSpan":"评审结束时间与当前时间的差值",                "CreateTime":"评审创建时间（DateTime类型，用于排序）",                "EndDate":"评审结束日期（string类型）",                "StartDate":"评审创建日期（string类型）",                "Progress":"评审进度"				"ReviewStatus":"评审自身状态"				"ReviewStatusId":"评审自身状态Id（1-评审中；3-存档；4-删除；8-已关闭；）"				"ReviewStatusStr":"评自身状态值（InProgress-评审中；Archived-存档；Deleted-删除；Closed-已关闭；）"				"Engineer":"被评人用户显示名",                "EngineerVal":"被评人用户登录名",				"Approver":"审核人用户显示名",                "ApproverVal":"审核人用户登录名",				"Reviewer":"评审人用户显示名",                "ReviewerVal":"评审人用户登录名",				"Recorder":"记录员用户显示名",                "RecorderVal":"记录员用户登录名",				"QA":"QA用户显示名",                "QAVal":"QA用户登录名",            },...	        ]    }#文档评审查询接口##根据id获取文档评审数据###场景说明根据评审id获取文档评审主要数据###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/{reviewId}/||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":        {			"Uid":"评审ID (int)",			"ItemID":"评审ItemID (string)",			"Name":"评审名称 (string)",			"Description":"描述 (string)",			"ProjectId":"项目ID (int)",			"Status":"状态 (string)",			"Revision":"评审最新版本号 (int)",			"Moderator":"评审发起人 (string)",			"CreateTime":"评审创建时间 (string)",			"EndDate":"评审结束时间 (string)",			"ReviewTargetId":"评审项id，多个用逗号隔开 (string)",			"CheckList":"评审准则id，多个用逗号隔开 (string)"			"ReviewBaseLine":"评审基线Id (int)",			"ReviewActivityId":"评审活动Id (int)",			"DefectCount":"已结束的评审的缺陷数目，若评审未结束，值为“-” (string)",			"CommentCount":"已结束的评审的评论数目，若评审未结束，值为“-” (string)"		}    }##根据评审id获取文档评审回复数据###场景说明根据评审id及其他条件查询该评审内的回复###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/reviewId/answers?reviewVersion={reviewVersion}&commentId={commentId}&targetId={targetId}&userName={userName}&engineerAnswer={engineerAnswer}&replyTo={replyTo}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||commentId|string|否|回复的意见id，可传多个，逗号隔开，默认查询所有评论的回复|1,2||targetId|string|否|评审条目Id，可传多个，用逗号隔开，查询评审的回复传"0"，默认查询所有回复|1,2||userName|string|否|用户名，回复创建人，可传多个，逗号隔开，默认查找所有人的回复|user,zhangsan||engineerAnswer|string|否|被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），可传多个，逗号隔开，查询被评人通过反馈产生的回复，默认值查询所有回复|accept,untreated||replyTo|string|否|被回复的用户名称，可传多个，逗号隔开，查询回复某一或某些人的回复，默认值查询所有回复|user,zhangsan|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":        [			{				"Uid":"回复的ID (int)",				"Contents":"回复的内容 (string)",				"ReviewVersion":"评审版本号 (int)",				"TargetId":"对应的条目ID (int)",				"TargetName":"对应的条目名称 (string)",				"ParentId":"父节点ID，0代表本条数据为意见，大于0代表本条数据为回复 (int)",				"RootId":"根节点ID (int)",				"CreateBy":"创建人 (string)",				"EngineerAnswer":"被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），当本条数据为意见时，代表此意见的被评人反馈状态；当本条数据为回复时，代表被评人反馈产生的回复 (string)",			},…		]    }##根据评审id获取文档评审回复数目###场景说明根据评审id及其他条件查询该评审内的回复数目###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/reviewId/answersCount?reviewVersion={reviewVersion}&commentId={commentId}&targetId={targetId}&userName={userName}&engineerAnswer={engineerAnswer}&replyTo={replyTo}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||commentId|string|否|回复的意见id，可传多个，逗号隔开，默认查询所有评论的回复|1,2||targetId|string|否|评审条目Id，可传多个，用逗号隔开，查询评审的回复传"0"，默认查询所有回复|1,2||userName|string|否|用户名，回复创建人，可传多个，逗号隔开，默认查找所有人的回复|user,zhangsan||engineerAnswer|string|否|被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），可传多个，逗号隔开，查询被评人通过反馈产生的回复，默认值查询所有回复|accept,untreated||replyTo|string|否|被回复的用户名称，可传多个，逗号隔开，查询回复某一或某些人的回复，默认值查询所有回复|user,zhangsan|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":"回复数 (int)"    }##根据评审id获取文档评审意见数据###场景说明根据评审id及其他条件查询该评审内的意见###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/{reviewId}/comments?reviewVersion={reviewVersion}&targetId={targetId}&userName={userName}&engineerAnswer={engineerAnswer}&commentStatus={commentStatus}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||targetId|string|否|评审条目Id，可传多个，用逗号隔开，查询评审的意见传"0"，默认查询所有意见|1,2||userName|string|否|用户名，回复创建人，可传多个，逗号隔开，默认查找所有人的意见|user,zhangsan||engineerAnswer|string|否|被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），可传多个，逗号隔开，默认查询所有|accept,untreated||commentStatus|string|否|评审意见的状态，可取值：Completed-已决策；cancel-未决策；Closed-已关闭；可传多个，逗号隔开，默认查询未关闭的意见|Completed,cancel|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":        [			{				"Uid":"意见的ID (int)",				"Contents":"意见的内容 (string)",				"ReviewVersion":"评审版本号 (int)",				"TargetId":"对应的条目ID (int)",				"TargetName":"对应的条目名称 (string)",				"ParentId":"父节点ID，0代表本条数据为意见，大于0代表本条数据为回复 (int)",				"RootId":"根节点ID (int)",				"CreateBy":"创建人 (string)",				"EngineerAnswer":"被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），当本条数据为意见时，代表此意见的被评人反馈状态；当本条数据为回复时，代表被评人反馈产生的回复 (string)",				"CheckItems":"关联的评审准则Id，多个逗号隔开 (string)",				"ReviewCheckItems":"关联的评审检查项Id，多个逗号隔开 (string)",				"DecisionState":"审核人决策:Completed-已决策；cancel-未决策; (string)",				"DecisionUser":"进行决策的用户名 (string)",				"AnswerUser":"进行反馈的用户名 (string)",				"CommentState":"意见的决策状态：Unconfirmed-未决策；Defect-已转缺陷；Effective-有效；Invalid-无效；(string)"，				"CommentStatus":"意见是否关闭：1-未关闭；2已关闭；(int)"			},…		]    }##根据评审id获取文档评审意见数目###场景说明根据评审id及其他条件查询该评审内的意见数###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/{reviewId}/commentsCount?reviewVersion={reviewVersion}&targetId={targetId}&userName={userName}&engineerAnswer={engineerAnswer}&commentStatus={commentStatus}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||targetId|string|否|评审条目Id，可传多个，用逗号隔开，查询评审的意见传"0"，默认查询所有意见|1,2||userName|string|否|用户名，回复创建人，可传多个，逗号隔开，默认查找所有人的意见|user,zhangsan||engineerAnswer|string|否|被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），可传多个，逗号隔开，默认查询所有|accept,untreated||commentStatus|string|否|评审意见的状态，可取值：Completed-已决策；cancel-未决策；Closed-已关闭；可传多个，逗号隔开，默认查询未关闭的意见|Completed,cancel|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":"意见数 (int)"    }##根据评审id获取文档评审缺陷数据###场景说明根据评审id及其他条件查询该评审内的缺陷###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/{reviewId}/defects?targetId={targetId}&userName={userName}&reviewVersion={reviewVersion}&utoken={utoken}&returnPros={returnPros}&showEnumName={showEnumName}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||utoken|string|是|用户token|||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||targetId|string|否|评审条目Id，不传或传0查询评审的缺陷|1,2||userName|string|否|用户名，缺陷创建人，可传多个，逗号隔开，默认查找所有人的回复|user,zhangsan||returnPros|string|否|返回值字段列表，可传多个，逗号隔开，取值为文档评审数据缺陷使用的数据类型的字段名称，默认值为”_valm_Uid,_valm_Name,_valm_Description”|_valm_Uid,_valm_Name||showEnumName|string|否|枚举值显示方式，取值为：true-只显示枚举项名；false-只显示枚举ID；both-全部显示，格式为：{"枚举id":"枚举项名"}|true|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":        [			{				"_valm_Uid":"缺陷的ID (string)",				"_valm_Name":"缺陷的名称 (string)",				"_valm_Description":"缺陷的描述 (string)",				…			},…		]    }##根据评审id获取文档评审缺陷数目###场景说明根据评审id及其他条件查询该评审内的缺陷数目###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/{reviewId}/defectsCount?targetId={targetId}&userName={userName}&reviewVersion={reviewVersion}&utoken={utoken}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||utoken|string|是|用户token|||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||targetId|string|否|评审条目Id，不传或传0查询评审的缺陷|1,2||userName|string|否|用户名，回复创建人，可传多个，逗号隔开，默认查找所有人的回复|user,zhangsan|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":"缺陷数 (int)"    }##根据评审id查询文档评审用户（不包括发起人）数据###场景说明根据评审id及其他条件查询该评审内的用户（不包括发起人，查询发起人使用 http://<server>/alm/rest/review/doc/reviewId/）###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/{reviewId}/users?reviewVersion={reviewVersion}&roleName={roleName}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本|1||roleName|string|否|角色名称，可传多个，逗号隔开，取值为：Reviewer-评审人；Engineer-被评人；QA-QA；Approver-审核人；Recorder-记录员；|Reviewer,QA|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":		[			{				"RoleName":"评审角色名 (string)",				"RoleNameStr":"评审角色显示名 (string)",				"ReviewVersion":"评审版本号 (int)"				"ReviewUserList":				[					{						"UserName":"用户登录名 (string)",						"NickName":"用户显示名 (string)",						"Progress":"评审进度 (string)",						"MySatatus":"评审用户的评审状态:InProgress-评审中；Completed-已完成；(string)",						"ReviewerLevel":"评审人等级:1-重要；0-普通; (string) ",						"ReviewerScore":"打分成绩 (string)"					},...				]			},...		]    }##根据评审id查询文档评审条目###场景说明根据评审id及其他条件查询该评审内的条目数据###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/{reviewId}/targets?reviewVersion={reviewVersion}&utoken={utoken}&condition={condition}&targetId={targetId}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||utoken|string|是|用户token|||reviewVersion|int|否|评审版本号，传0或不传查询最新版本|1||targetId|string|否|评审条目id，可传多个，逗号隔开|1,2||condition|int|否|过滤条件，取值为：1-获取存在意见（或某些用户的意见）的条目；2-获取存在回复（或某些用户的回复）的条目；3-获取某个评审人已评审的条目；4-获取某个评审人未评审的条目；5-获取某个审核人审核通过的条目；6-获取某个审核人审核不通过的条目；7-获取某个审核人还未审核的条目；传条件3,4,5,6,7，必传userName，只能传单个用户；传条件1,2，userName可选，可传多个用户默认不过滤|1|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":		[			{				"TargetId":"评审条目id (int)",				"TargetName":"评审条目名称 (string)",				"TargetDescription":"评审条目描述 (string)",				"VersionNum":"评审条目数据版本 (int)",				"Number":"评审条目编号 (string)",				"DataIndex":"条目索引 (int)",				"ReviewBaseLine":"评审基线 (int)",				"NodeType":"评审条目类型 (string)",				"IsArtifact":"是否是工件节点 (bool)",				"TargetItemID":"评审条目ItemId (string)",				"ReviewVersion":"评审版本号 (int)"			},…		]    }##根据评审id查询文档评审检查项及其结果###场景说明根据评审id及其他条件查询该评审内的检查项相关内容及检查结果###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/{reviewId}/target/{targetId}/user/{userName}/checkResults?reviewVersion={reviewVersion}&conditions={conditions}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||targetId|int|否|评审条目id|1||userName|string|是|填写检查结果的用户登录名|user||reviewVersion|int|否|评审版本号，传0或不传查询最新版本|1||conditions|string|否|过滤条件，取值为检查项的结果值：fit-通过，not_fit-不通过，not_suit-不适用，unCheck-未填写，默认查询所有|not_fit,not_suit|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":		 [            {                "CheckItemId":"检查项id (string)",                "CheckListId":"关联检查单id (string)",                "CheckItemName":"检查项名称 (string)",                "CheckItemGroup":"检查项分组 (string)",                "CheckitemContent":"检查项内容 (string)",                "CheckItemResult":"结果，为空表示未填写 (string)"            },...         ]    }##根据评审id查询文档评审检查项###场景说明根据评审id及其他条件查询该评审内的检查项相关数据，不包含结果###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/{reviewId}/checkItems?reviewVersion={reviewVersion}&checkListType={checkListType}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本|1||checkListType|string|否|检查单类型，取值为review-评审，reviewItem-条目,默认查询所有检查项|review|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":		[            {                "CheckItemId":"检查项id (string)",                "CheckListId":"关联检查单id (string)",                "CheckItemName":"检查项名称 (string)",                "CheckItemGroup":"检查项分组 (string)",                "CheckitemContent":"检查项内容 (string)",            },...        ]    }##根据评审id查询文档评审附件###场景说明根据评审id及其他条件查询该评审内的附件###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/doc/{reviewId}/attachments?reviewVersion={reviewVersion}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本|1|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":		[            {                "Uid":"附件id (int)",                "Filecode":"附件的filecode (string)",                "FileName":"附件名称 (string)",                "CreateBy":"创建人 (string)",                "CreateTime":"创建时间 (string)"            },...        ]#代码评审查询接口##根据id获取代码评审数据###场景说明根据评审id获取代码评审主要数据###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/{reviewId}/||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":        {			"Uid":"评审ID (int)",			"ItemID":"评审ItemID (string)",			"Name":"评审名称 (string)",			"Source":"评审资源来源:VISSLM/SVN (string)",			"ProjectId":"项目ID (int)",			"Status":"状态 (string)",			"Revision":"评审最新版本号 (int)",			"Moderator":"评审发起人 (string)",			"CreateTime":"评审创建时间 (string)",			"EndDate":"评审结束时间 (string)",			"ReviewUrl":"评审资源路径 (string)",			"CheckList":"评审准则id，多个用逗号隔开 (string)"			"FileSuffix":"文件后缀名，多个用逗号隔开 (string)",			"ReviewActivityId":"评审活动Id (int)",			"DefectCount":"已结束的评审的缺陷数目，若评审未结束，值为“-” (string)",			"CommentCount":"已结束的评审的评论数目，若评审未结束，值为“-” (string)"		}    }##根据评审id获取代码评审回复数据###场景说明根据评审id及其他条件查询该评审内的回复###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/reviewId/answers?reviewVersion={reviewVersion}&rowNum={rowNum}&commentId={commentId}&targetId={targetId}&userName={userName}&engineerAnswer={engineerAnswer}&replyTo={replyTo}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||commentId|string|否|回复的意见id，可传多个，逗号隔开，默认查询所有评论的回复|1,2||targetId|string|否|评审文件Id，可传多个，用逗号隔开，查询评审的回复传"0"，默认查询所有回复|1,2||userName|string|否|用户名，回复创建人，可传多个，逗号隔开，默认查找所有人的回复|user,zhangsan||rowNum|string|否|代码文件行号，可传多个，逗号隔开|1,10||engineerAnswer|string|否|被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），可传多个，逗号隔开，查询被评人通过反馈产生的回复，默认值查询所有回复|accept,untreated||replyTo|string|否|被回复的用户名称，可传多个，逗号隔开，查询回复某一或某些人的回复，默认值查询所有回复|user,zhangsan|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":        [			{				"Uid":"回复的ID (int)",				"Contents":"回复的内容 (string)",				"ReviewVersion":"评审版本号 (int)",				"TargetId":"对应的文件ID (int)",				"TargetName":"对应的文件名称 (string)",				"ParentId":"父节点ID，0代表本条数据为意见，大于0代表本条数据为回复 (int)",				"RootId":"根节点ID (int)",				"CreateBy":"创建人 (string)",				"RowNum":"对应的代码文件行号 (int)",				"EngineerAnswer":"被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），当本条数据为意见时，代表此意见的被评人反馈状态；当本条数据为回复时，代表被评人反馈产生的回复 (string)",			},…		]    }##根据评审id获取代码评审回复数目###场景说明根据评审id及其他条件查询该评审内的回复数目###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/reviewId/answersCount?reviewVersion={reviewVersion}&rowNum={rowNum}&commentId={commentId}&targetId={targetId}&userName={userName}&engineerAnswer={engineerAnswer}&replyTo={replyTo}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||commentId|string|否|回复的意见id，可传多个，逗号隔开，默认查询所有评论的回复|1,2||targetId|string|否|评审文件Id，可传多个，用逗号隔开，查询评审的回复传"0"，默认查询所有回复|1,2||userName|string|否|用户名，回复创建人，可传多个，逗号隔开，默认查找所有人的回复|user,zhangsan||rowNum|string|否|代码文件行号，可传多个，逗号隔开|1,10||engineerAnswer|string|否|被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），可传多个，逗号隔开，查询被评人通过反馈产生的回复，默认值查询所有回复|accept,untreated||replyTo|string|否|被回复的用户名称，可传多个，逗号隔开，查询回复某一或某些人的回复，默认值查询所有回复|user,zhangsan|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":"回复数 (int)"    }##根据评审id获取代码评审意见数据###场景说明根据评审id及其他条件查询该评审内的意见###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/{reviewId}/comments?reviewVersion={reviewVersion}&targetId={targetId}&userName={userName}&engineerAnswer={engineerAnswer}&commentStatus={commentStatus}&rowNum={rowNum}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||targetId|string|否|评审条目Id，可传多个，用逗号隔开，查询评审的意见传"0"，默认查询所有意见|1,2||userName|string|否|用户名，回复创建人，可传多个，逗号隔开，默认查找所有人的意见|user,zhangsan||rowNum|string|否|代码文件行号，可传多个，逗号隔开|1,10||engineerAnswer|string|否|被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），可传多个，逗号隔开，默认查询所有|accept,untreated||commentStatus|string|否|评审意见的状态，可取值：Completed-已决策；cancel-未决策；Closed-已关闭；可传多个，逗号隔开，默认查询未关闭的意见|Completed,cancel|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":        [			{				"Uid":"意见的ID (int)",				"Contents":"意见的内容 (string)",				"ReviewVersion":"评审版本号 (int)",				"TargetId":"对应的条目ID (int)",				"TargetName":"对应的代码文件名称 (string)",				"RowNum":"对应的行号 (int)",				"ParentId":"父节点ID，0代表本条数据为意见，大于0代表本条数据为回复 (int)",				"RootId":"根节点ID (int)",				"CreateBy":"创建人 (string)",				"EngineerAnswer":"被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），当本条数据为意见时，代表此意见的被评人反馈状态；当本条数据为回复时，代表被评人反馈产生的回复 (string)",				"CheckItems":"关联的评审准则Id，多个逗号隔开 (string)",				"ReviewCheckItems":"关联的评审检查项Id，多个逗号隔开 (string)",				"DecisionState":"审核人决策:Completed-已决策；cancel-未决策; (string)",				"DecisionUser":"进行决策的用户名 (string)",				"AnswerUser":"进行反馈的用户名 (string)",				"CommentState":"意见的决策状态：Unconfirmed-未决策；Defect-已转缺陷；Effective-有效；Invalid-无效；(string)"，				"CommentStatus":"意见是否关闭：1-未关闭；2已关闭；(int)",				"AnalyzerTool":"代码评审工具名称 (string)",				"AnalyzerRule":"代码评审规则 (string)",			},…		]    }##根据评审id获取代码评审意见数目###场景说明根据评审id及其他条件查询该评审内的意见数###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/{reviewId}/commentsCount?reviewVersion={reviewVersion}&targetId={targetId}&userName={userName}&engineerAnswer={engineerAnswer}&commentStatus={commentStatus}&rowNum={rowNum}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||targetId|string|否|评审条目Id，可传多个，用逗号隔开，查询评审的意见传"0"，默认查询所有意见|1,2||userName|string|否|用户名，回复创建人，可传多个，逗号隔开，默认查找所有人的意见|user,zhangsan||rowNum|string|否|代码文件行号，可传多个，逗号隔开|1,10||engineerAnswer|string|否|被评人反馈（accept-接受；modified-已修改；invalid-无效；untreated-未处理；），可传多个，逗号隔开，默认查询所有|accept,untreated||commentStatus|string|否|评审意见的状态，可取值：Completed-已决策；cancel-未决策；Closed-已关闭；可传多个，逗号隔开，默认查询未关闭的意见|Completed,cancel|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":"意见数 (int)"    }##根据评审id获取代码评审缺陷数据###场景说明根据评审id及其他条件查询该评审内的缺陷###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/{reviewId}/defects?targetId={targetId}&userName={userName}&reviewVersion={reviewVersion}&utoken={utoken}&defectStatus={defectStatus}&returnPros={returnPros}&rowNum={rowNum}&showEnumName={showEnumName}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||utoken|string|是|用户token|||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||targetId|string|否|评审条目Id，不传或传0查询评审的缺陷|1,2||userName|string|否|用户名，缺陷创建人，可传多个，逗号隔开，默认查找所有人的回复|user,zhangsan||rowNum|string|否|代码文件行号，可传多个，逗号隔开|1,10||returnPros|string|否|返回值字段列表，可传多个，逗号隔开，取值为文档评审数据缺陷使用的数据类型的字段名称。返回值说明中列出了默认查询的字段，可使用此参数增加需要查询的字段|_valm_Uid,_valm_Name||showEnumName|string|否|枚举值显示方式，取值为：true-只显示枚举项名；false-只显示枚举ID；both-全部显示，格式为：{"枚举id":"枚举项名"}|true|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":        [			{				"_valm_Uid":"缺陷的ID (string)",				"_valm_Name":"缺陷的名称 (string)",				"_valm_ItemID":"缺陷的ItemId (string)",				"ReviewItemFileId":"缺陷关联的评审文件id (string)",				"ReviewItemLineNo":"缺陷关联的评审文件行号 (string)",				"ReviewItemVersion":"评审版本号 (string)",				"_valm_CreateBy":"缺陷创建人 (string)",				"DefectStatus":"缺陷状态 (string)"				…			},…		]    }##根据评审id获取代码评审缺陷数目###场景说明根据评审id及其他条件查询该评审内的缺陷数目###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/{reviewId}/defectsCount?targetId={targetId}&userName={userName}&reviewVersion={reviewVersion}&utoken={utoken}&defectStatus={defectStatus}&rowNum={rowNum}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||utoken|string|是|用户token|||reviewVersion|int|否|评审版本号，传0或不传查询最新版本，传-1查询所有版本|1||targetId|string|否|评审条目Id，不传或传0查询评审的缺陷|1,2||userName|string|否|用户名，回复创建人，可传多个，逗号隔开，默认查找所有人的回复|user,zhangsan||rowNum|string|否|代码文件行号，可传多个，逗号隔开|1,10|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":"缺陷数 (int)"    }##根据评审id查询代码评审用户（不包括发起人）数据###场景说明根据评审id及其他条件查询该评审内的用户（不包括发起人，查询发起人使用 http://<server>/alm/rest/review/code/{reviewId}/）###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/{reviewId}/users?reviewVersion={reviewVersion}&roleName={roleName}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本|1||roleName|string|否|角色名称，可传多个，逗号隔开，取值为：Reviewer-评审人；Engineer-被评人；QA-QA；Approver-审核人；Recorder-记录员；|Reviewer,QA|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":		[			{				"RoleName":"评审角色名 (string)",				"RoleNameStr":"评审角色显示名 (string)",				"ReviewVersion":"评审版本号 (int)"				"ReviewUserList":				[					{						"UserName":"用户登录名 (string)",						"NickName":"用户显示名 (string)",						"Progress":"评审进度 (string)",						"MySatatus":"评审用户的评审状态:InProgress-评审中；Completed-已完成；(string)",						"ReviewerLevel":"评审人等级:1-重要；0-普通; (string) ",						"ReviewerScore":"打分成绩 (string)"					},...				]			},...		]    }##根据评审id查询代码评审文件###场景说明根据评审id及其他条件查询该评审内的文件数据###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/{reviewId}/targets?userName={userName}&reviewVersion={reviewVersion}&condition={condition}&targetId={targetId}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||utoken|string|是|用户token|||reviewVersion|int|否|评审版本号，传0或不传查询最新版本|1||targetId|string|否|评审文件id，可传多个，逗号隔开|1,2||condition|int|否|过滤条件，取值为：1-获取存在意见（或某些用户的意见）的文件；2-获取存在回复（或某些用户的回复）的文件；3-获取某个评审人已评审的文件；4-获取某个评审人未评审的文件；5-获取某个审核人审核通过的文件；6-获取某个审核人审核不通过的文件；7-获取某个审核人还未审核的文件；传条件3,4,5,6,7，必传userName，只能传单个用户；传条件1,2，userName可选，可传多个用户默认不过滤|1|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":		[			{				"TargetId":"评审文件id (int)",				"TargetName":"评审文件名称 (string)",				"TargetType":"评审文件类型 (string)",				"ProjectVersion":"评审项版本号 (string)",				"Resource":"评审文件url (string)",				"Length":"评审文件长度 (int)",				"ReviewBaseLine":"评审基线 (int)",				"ParentId":"评审文件父节点Id (int)",				"FileVersion":"文件版本号 (string)",				"FileCode":"评审文件filecode (string)",				"ReviewVersion":"评审版本号 (int)"			},…		]    }##根据评审id查询代码评审检查项及其结果###场景说明根据评审id及其他条件查询该评审内的检查项相关内容及检查结果###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/{reviewId}/target/{targetId}/user/{userName}/checkResults?reviewVersion={reviewVersion}&conditions={conditions}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||targetId|int|否|评审条目id|1||userName|string|是|填写检查结果的用户登录名|user||reviewVersion|int|否|评审版本号，传0或不传查询最新版本|1||conditions|string|否|过滤条件，取值为检查项的结果值：fit-通过，not_fit-不通过，not_suit-不适用，unCheck-未填写，默认查询所有|not_fit,not_suit|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":		 [            {                "CheckItemId":"检查项id (string)",                "CheckListId":"关联检查单id (string)",                "CheckItemName":"检查项名称 (string)",                "CheckItemGroup":"检查项分组 (string)",                "CheckitemContent":"检查项内容 (string)",                "CheckItemResult":"结果，为空表示未填写 (string)"            },...         ]    }##根据评审id查询代码评审检查项###场景说明根据评审id及其他条件查询该评审内的检查项相关数据，不包含结果###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/{reviewId}/checkItems?reviewVersion={reviewVersion}&checkListType={checkListType}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本|1||checkListType|string|否|检查单类型，取值为review-评审，reviewItem-条目,默认查询所有检查项|review|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":		[            {                "CheckItemId":"检查项id (string)",                "CheckListId":"关联检查单id (string)",                "CheckItemName":"检查项名称 (string)",                "CheckItemGroup":"检查项分组 (string)",                "CheckitemContent":"检查项内容 (string)",            },...        ]    }##根据评审id查询代码评审附件###场景说明根据评审id及其他条件查询该评审内的附件###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/{reviewId}/attachments?reviewVersion={reviewVersion}||请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本|1|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":		[            {                "Uid":"附件id (int)",                "Filecode":"附件的filecode (string)",                "FileName":"附件名称 (string)",                "CreateBy":"创建人 (string)",                "CreateTime":"创建时间 (string)"            },...        ]##根据评审id查询代码评审工具###场景说明根据评审id及其他条件查询该评审内的代码评审工具信息###接口详情|接口详情|||---|:--||地址|http://<server>/alm/rest/review/code/{reviewId}/analyzerTools?reviewVersion={reviewVersion}|请求方式|GET|###参数|参数名 | 类型 |是否必填|说明|示例值| --- | :-- |:--|:--|:--||reviewId|int|是|评审Id |1||reviewVersion|int|否|评审版本号，传0或不传查询最新版本|1|###返回值###	{        "ErrorCode":"0-成功；其他值-失败 (int)"        "ErrorMsg":"描述信息 (string)"        "Data":		[            {                "Uid":"工具id (int)",                "CodeReviewID":"代码评审id (int)",                "ReviewVersionNum":"评审版本号 (int)",                "AnalyzerTool":"工具名称 (string)",                "StatusCode":"状态码：-1-分析失败；0-已初始化；1-正在分析；2-已完成分析；3-分析已终止； (int)"            },...        ]